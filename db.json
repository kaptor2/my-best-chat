{
  "dialogs": [
    {
      "_id": 1,
      "created_at": "Sep 12 2020 00:25:44",
      "count_unread": 1,
      "notReed": false,
      "user": {
        "_id": "1",
        "online": true,
        "fullname": "Виталий Панкратов",
        "avatar": "https://miro.medium.com/fit/c/96/96/1*PZq5KugR9DJaBDi_AunPaQ.png"
      },
      "text": "Нет никого, кто любил бы боль саму по себе, кто искал бы её и кто хотел бы иметь её просто потому, что это боль.."
    },
    {
      "_id": 2,
      "text": "Я написал статью и ты взял мои данные для тестов - не хорошо это",
      "created_at": "Sep 11 2020 19:28:44",
      "count_unread": 0,
      "notReed": false,
      "user": {
        "_id": "2",
        "online": false,
        "fullname": "Петя Баранов",
        "avatar": ""
      }
    }
  ],

  "messages": [
    {
      "_id": "1",
      "date": "Sat Aug 29 2020 15:22:36",
      "text": "Какой-то текст",
      "isMe": false,
      "dialog": "1",

      "user": {
        "_id": "1",
        "ava": "https://cdn.tproger.ru/wp-images/tproger-square-192.png",
        "fullName": "Константин Безпалов"
      },

      "documents": [
        {
          "_id": "1",
          "url": "https://picsum.photos/id/102/200/200"
        },
        {
          "_id": "2",
          "url": "https://picsum.photos/id/12/200/200"
        },
        {
          "_id": "3",
          "url": "https://picsum.photos/id/500/200/200"
        },
        {
          "_id": "4",
          "url": "https://picsum.photos/id/102/200/200"
        },
        {
          "_id": "5",
          "url": "https://picsum.photos/id/102/200/200"
        },
        {
          "_id": "6",
          "url": "https://picsum.photos/id/500/200/200"
        }
      ],

      "audio": {
        "_id": "1",
        "tones": [
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          50,
          46,
          41,
          36,
          32,
          27,
          32,
          38,
          33,
          34,
          28,
          26,
          61,
          72,
          85,
          84,
          77,
          88,
          85,
          60,
          79,
          36,
          20,
          0,
          0,
          0,
          0
        ],
        "url": "https://raw.githubusercontent.com/kaptor2/my-best-chat/frontend/src/assets/iphone_6-30.mp3",
        "duration": 26000
      }
    },
    {
      "_id": "1",
      "date": "Sat Aug 29 2020 15:22:36",
      "text": "Какой-то текст",
      "isMe": true,
      "dialog": "2",

      "user": {
        "_id": "2",
        "ava": "https://cdn.tproger.ru/wp-images/tproger-square-192.png",
        "fullName": "Константин Безпалов"
      },

      "documents": [
        {
          "_id": "1",
          "url": "https://picsum.photos/id/102/200/200"
        },
        {
          "_id": "2",
          "url": "https://picsum.photos/id/12/200/200"
        },
        {
          "_id": "3",
          "url": "https://picsum.photos/id/500/200/200"
        },
        {
          "_id": "4",
          "url": "https://picsum.photos/id/102/200/200"
        },
        {
          "_id": "5",
          "url": "https://picsum.photos/id/102/200/200"
        },
        {
          "_id": "6",
          "url": "https://picsum.photos/id/500/200/200"
        }
      ]
    }, 
    {
      "_id": "3",
      "date": "Sat Aug 29 2020 15:22:36",
      "text": "Какой-то текст https://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.pnghttps://cdn.tproger.ru/wp-images/tproger-square-192.png",
      "isMe": true,
      "dialog": "2",

      "user": {
        "_id": "2",
        "ava": "https://cdn.tproger.ru/wp-images/tproger-square-192.png",
        "fullName": "Константин Безпалов"
      }
    }, 
    {
      "_id": "4",
      "date": "Sat Aug 29 2020 15:22:36",
      "text": "Ответ в принципе работает. Только параметр attempt ты неправильно понял - это просто подсчет попыток - counter. В общем мой вариант выглядит так: var height = 0; var attempt = 0; var intS = 0; function scrollToEndPage() { console.log(height: + height +  scrollHeight: + document.body.scrollHeight +  att: + attempt ); if (height < document.body.scrollHeight) { height = document.body.scrollHeight; window.scrollTo(0, height); attempt++; } else { clearInterval(intS); } } intS = setInterval(scrollToEndPage,5000); – Sergej Loos 15 фев 17 в 11:02",
      "isMe": true,
      "dialog": "2",

      "user": {
        "_id": "2",
        "ava": "https://cdn.tproger.ru/wp-images/tproger-square-192.png",
        "fullName": "Константин Безпалов"
      }
    }, 
    {
      "_id": "5",
      "date": "Sat Aug 29 2020 15:22:36",
      "text": "Какой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текстКакой-то текст",
      "isMe": true,
      "dialog": "2",

      "user": {
        "_id": "2",
        "ava": "https://cdn.tproger.ru/wp-images/tproger-square-192.png",
        "fullName": "Константин Безпалов"
      }
    }, 
    {
      "_id": "6",
      "date": "Sat Aug 29 2020 15:22:36",
      "text": "Какой-то текст",
      "isMe": true,
      "dialog": "2",

      "user": {
        "_id": "2",
        "ava": "https://cdn.tproger.ru/wp-images/tproger-square-192.png",
        "fullName": "Константин Безпалов"
      }
    }
  ]
}
